<!--  -->
<!DOCTYPE html>
<!--  -->
<html lang="en-US" dir="ltr">
<!-- <html lang="en" dir="ltr" itemscope itemtype="http://schema.org/WebPage"> -->
<!--  -->
<head>
<!--  -->
<meta charset="utf-8" />
<!--  -->
<title>Pam mhcrfid - Mhc wiki - gnu linux and rfid fun</title>
<!--  -->
<meta name="author" content="mhc" />
<!--  -->
<!-- <meta name="description" content="" /> -->
<!--  -->
<meta name="image" content="https://cmatthew.net/wiki_site.png" />
<!--  -->
<!-- <meta name="keywords" content="" /> -->
<!--  -->
<link rel="canonical" href="https://cmatthew.net/wiki/Pam_mhcrfid" />
<!-- <link rel="amphtml" href="https://*/amp/" /> -->
<!--  -->
<meta name="generator" content="Mhc brain - Kate - MediaWiki" />
<!--  -->
<meta name="robots" content="index,follow" />
<!--  -->
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<!--  -->
<meta name=viewport content="width=device-width, initial-scale=1" />
<meta name="mobile-web-app-capable" content="yes" />
<meta name="application-name" content="cmatthew.net" />
<link rel="icon" type="image/png" sizes="192x192" href="/android-icon-192x192.png" />
<link rel="manifest" href="/manifest.json" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="#17c804" />
<meta name="apple-mobile-web-app-title" content="cmatthew.net" />
<meta name="format-detection" content="telephone=no" />
<link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png" />
<link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png" />
<link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png" />
<link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png" />
<link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png" />
<link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png" />
<link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png" />
<link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png" />
<meta name="msapplication-config" content="/browserconfig.xml" /> 
<meta name="msapplication-navbutton-color" content="#17c804" />
<meta name="msapplication-TileColor" content="#17c804" />
<meta name="msapplication-TileImage" content="/ms-icon-144x144.png" />
<meta name="theme-color" content="#17c804" />
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
<link rel="icon" type="image/png" sizes="96x96" href="/favicon-96x96.png" />
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
<!--
<meta itemprop="name" content="Pam_mhcrfid - Mhc wiki - gnu linux and rfid fun" />
<meta itemprop="description" content="" />
<meta itemprop="image" content="https://cmatthew.net/wiki_site.png" />
-->
<meta name="twitter:card" content="summary" />
<meta name="twitter:title" content="Pam_mhcrfid - Mhc wiki - gnu linux and rfid fun" />
<meta name="twitter:description" content="Pam_mhcrfid - Mhc wiki - gnu linux and rfid fun" />
<meta name="twitter:site" content="@CmatthewNet" />
<meta name="twitter:creator" content="@CmatthewNet" />
<meta name="twitter:image" content="https://cmatthew.net/wiki_site.png" />
<!--  -->
<meta property="og:title" content="Pam_mhcrfid - Mhc wiki - gnu linux and rfid fun" />
<meta property="og:description" content="Pam_mhcrfid - Mhc wiki - gnu linux and rfid fun" />
<meta property="og:image" content="https://cmatthew.net/wiki_site.png" />
<meta property="og:url" content="https://cmatthew.net/wiki/Pam_mhcrfid">
<meta property="og:site_name" content="Mhc wiki - gnu linux and rfid fun" />
<meta property="og:type" content="website" />
<!--  -->
<script type="application/ld+json">
{
  "@context": "http://schema.org/",
  "@type": "WebSite",
  "name": "cmatthew.net - gnu/linux & gaming",
  "alternateName": "Mhc wiki - gnu linux and rfid fun",
  "url": "https://cmatthew.net/",
  "potentialAction": {
    "@type": "SearchAction",
    "target": "https://cmatthew.net/?s={search_term}", 
    "query-input": "required name=search_term" 
  }
}
</script>
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Organization",
  "name": "cmatthew.net - gnu/linux & gaming",
  "url": "https://cmatthew.net/",
  "logo": "https://cmatthew.net/wiki_logo.png",
  "description": "cmatthew.net - gnu/linux & gaming",
  "sameAs": [
    "https://twitter.com/CmatthewNet",
    "https://plus.google.com/+CmatthewNet",
    "https://www.youtube.com/c/CmatthewNet"
  ],
  "founder": [
 {
 "@type": "Person",
 "name": "mhc"
 }]
}
</script>
<script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "name": "Pam_mhcrfid - Mhc wiki - gnu linux and rfid fun",
    "description": "Pam_mhcrfid - Mhc wiki - gnu linux and rfid fun"
}
</script>
<!--  -->
<style>
body {
font-family:Monospace; }
pre {
background:#F8F8FF;
border:black dashed 1px;
padding:1em;
white-space: pre-wrap;
}
a:link {
text-decoration: none;
color: midnightblue; }
a:visited {
text-decoration: none;
color: midnightblue; }
a:hover {
text-decoration: underline;
color: midnightblue; }
a:active {
text-decoration: underline;
color: midnightblue; }
#toc {
background:#F8F8FF;
border:black dashed 1px;
padding:1em; }
</style>
<!--  -->
</head>
<!--  -->
<body>
<!--  -->
<a href="https://cmatthew.net/wiki/Main_Page"><img src="wiki.png" alt="mhc_logo" height="90" width="155" /></a><br />
<!--  -->
<h1>Pam mhcrfid</h1>
<div><p>From: <b>Mhc wiki - gnu linux and rfid fun</b></p></div>
<p><br /></p>
<!-- start content -->
<h3>what is it?</h3>
<p>pam_mhcrfid is a <a rel="nofollow" class="external text" href="http://www.kernel.org/pub/linux/libs/pam/">pam</a> module for authentication with <a rel="nofollow" class="external text" href="http://www.phidgets.com">phidgets</a> rfid reader.</p><br />
<p>I did this for fun, to get some knowledge about rfid and becouse i'm too lazy to type in passwords! With the same tag you can login with your user and for all root stuff like su, system-config utils and so on, depending on your personal pam configuration. You can find other pam modules to get the same result with usb pen drives, for example, whit out the need to buy and carry around rfid reader and tags with your laptop. Of course on a desktop workstation it's pretty cool!</p><br />
<p>I'm sure that this code is really bad written because I'm really noob in programming, and i would like to give credits to all people that i copied from like web site C tutorials, other pam modules, phidgets forum...</p><br />
<p>fell free to contact me for any info, comments and improvement of this code.</p><br />
<p>"" [dot] "" [at] "" [dot] ""</p>
<p><br /></p>
<div id="toc"><div><h3>Contents</h3></div>
<ul>
<li><a href="#how_does_it_works.3f"><span>1</span> <span>how does it works?</span></a></li>
<li><a href="#to_compile"><span>2</span> <span>to compile</span></a></li>
<li><a href="#to_install"><span>3</span> <span>to install</span></a></li>
<li><a href="#notes"><span>4</span> <span>notes</span></a></li>
<li><a href="#download"><span>5</span> <span>download</span></a></li>
<li><a href="#video"><span>6</span> <span>video</span></a></li>
<li><a href="#to_do"><span>7</span> <span>to do</span></a></li>
</ul>
</div>
<p><br></p>
<h3><span id="how_does_it_works.3f">how does it works?</span></h3>
<p>It simply read the tag value from a phidgets rfid reader, then compare it with authorized tag value in .authtag file placed in user home. $HOME/.authtag file must be created by user contain authorized hex tag value and should be user read only. You can find out your tag hex value with my simple app <a href="https://cmatthew.net/wiki/Mhc_rfid" title="Mhc rfid">mhc_rfid</a>.
</p><p>If you are lazy like me and don't want to type root password every time place the same .authtag file in both your user home and root home.
</p><p><br />
</p>
<h3><span id="to_compile">to compile</span></h3>
<pre>gcc -Wall -fPIC -c pam_mhcrfid.c</pre>
<pre>gcc -shared -o pam_mhcrfid.so pam_mhcrfid.o -lpam -lm -lphidget21</pre>
<p><br /></p>
<h3><span id="to_install">to install</span></h3>
<p>copy .so file to /lib/security/ or /lib64/security/</p>
<p><br />add to /etc/pam.d/system-auth or to pam service you want to use:</p><p><br /></p>
<pre>auth     sufficient    pam_mhcrfid.so</pre>
<p><br /></p>
<h3><span id="notes">notes</span></h3>
<p>You should have your phidgets device usable by user, otherwise you can SUID kcheckpass if use kde for screen saver unlock.</p>
<p>You can find info on how to make your device usable by user on fedora <a rel="nofollow" href="http://www.phidgets.com/phpBB2/viewtopic.php?t=2184">here</a>.</p>
<p>I've not tested with gnome screen saver, i don't use gnome. Let me know if you find out any problems.</p><p><br /></p>
<h3><span id="download">download</span></h3>
<p><a rel="nofollow" href="https://cmatthew.net/pam_mhcrfid/0.1.4/pam_mhcrfid.c">pam_mhcrfid.c 0.1.4</a> source code (not using lasttag file anymore)</p>
<p><s><a rel="nofollow" href="https://cmatthew.net/pam_mhcrfid/0.1.3/pam_mhcrfid.c">pam_mhcrfid.c 0.1.3</a></s> source code (multi-user support)</p>
<p><s><a rel="nofollow" href="https://cmatthew.net/pam_mhcrfid/0.1.2/pam_mhcrfid.c">pam_mhcrfid.c 0.1.2</a></s> source code (added check to see if authtag and lasttag files exist to prevent errors)</p>
<p><s><a rel="nofollow" href="https://cmatthew.net/pam_mhcrfid/0.1.1/pam_mhcrfid.c">pam_mhcrfid.c 0.1.1</a></s> source code (removed all messages from screen, added info to syslog)</p>
<p><s><a rel="nofollow" href="https://cmatthew.net/pam_mhcrfid/0.1/pam_mhcrfid.c">pam_mhcrfid.c 0.1</a></s> source code (initial release)</p><p><br /></p>
<h3><span id="video">video</span></h3>
<p><a rel="nofollow" class="external text" href="https://www.youtube.com/watch?v=50tvo85BbvE">video</a> gdm and kde screensaver test</p><p><br /></p>
<h3><span id="to_do">to do</span></h3>
<p>Make a full install package (Makefile)</p>
<p>Add some crypt to tag files</p>
<!--  -->
<br /><p>#EoF profit! <b>;P</b></p>
<br /><img src="publicdomain.png" alt="publicdomain logo" height="45" width="127" />
<a href="https://plus.google.com/+CmatthewNet"><img src="gp.png" alt="g_plus" height="45" width="46" /></a>
<a href="https://twitter.com/CmatthewNet"><img src="tw.png" alt="tw_ttr" height="45" width="46" /></a>
<a href="https://www.youtube.com/c/CmatthewNet"><img src="yt.png" alt="y_tube" height="45" width="46" /></a>
<a href="https://cmatthew.net/wiki/Freenode"><img src="freenode.png" alt="freenode" height="45" width="127" /></a>
<img src="not-fd.png" alt="not_fbook" height="45" width="127" />
<h5>*this page has been EoL'd a long time ago, page content might be useful/useless xD</h5>
<!--  -->
</body>
<!--  -->
</html>
<!--  -->
